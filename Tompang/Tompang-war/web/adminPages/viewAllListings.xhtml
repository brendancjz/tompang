<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                template="/template/sidebarTemplate.xhtml"
                xmlns:ezcomp="http://xmlns.jcp.org/jsf/composite/ezcomp"
                xmlns:p="http://primefaces.org/ui">

    <ui:define name="content">
        <h1> View all Listings </h1>
        <br></br>
         <!--<ezcomp:Breadcrumb pageName="ViewAllListings"/>-->
        <h:form>
            
            <p:dataTable var="listing" value="#{viewAllListingsManagedBean.listings}" rowKey="#{listing.listingId}" rowIndexVar="row"
                         rows="10" paginator="true" paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}" rowsPerPageTemplate="10,20,50">
              
                <p:column headerText="ID" width="4%" sortBy="#{listing.listingId}" >
                    <h:outputText value="#{listing.listingId}" />
                </p:column>
                
                <p:column headerText="Country" sortBy="#{listing.country}" >
                    <h:outputText value="#{listing.country}" />
                </p:column>
                
                <p:column headerText="City" sortBy="#{listing.city}" >
                    <h:outputText value="#{listing.city}" />
                </p:column>
                
                <p:column headerText="Title" sortBy="#{listing.title}" >
                    <h:outputText value="#{listing.title}" />
                </p:column>
                
                 <p:column headerText="Creation Date" sortBy="#{listing.createdOn}" >
                    <h:outputText value="#{viewAllListingsManagedBean.getCreatedOn(listing)}" />
                </p:column>
                
                <p:column headerText="Expected Arrival Date" sortBy="#{listing.expectedArrivalDate}" >
                    <h:outputText value="#{viewAllListingsManagedBean.getArrivalDate(listing)}" />
                </p:column>
                
                <p:column headerText="Description" width="25%" sortBy="#{listing.description}" >
                    <h:outputText value="#{listing.description}" />
                </p:column>
                
                <p:column headerText="Title" sortBy="#{listing.category}" >
                    <h:outputText value="#{listing.category}" />
                </p:column>
<!--                <p:column headerText="Price" width="4%" sortBy="#{listing.price}" >
                    <h:outputText value="$#{listing.price}" />
                </p:column>-->
                
               
                
<!--                <p:column headerText="Likes" width="4%" sortBy="#{listing.numOfLikes}" >
                    <h:outputText value="#{listing.numOfLikes}" />
                </p:column>
                
                <p:column headerText="Quantity" width="4%" sortBy="#{listing.quantity}" >
                    <h:outputText value="#{listing.quantity}" />
                </p:column>
                
                <p:column headerText="Photos" width="4%" sortBy="#{listing.photos}" >
                    <h:outputText value="#{listing.photos}" />
                </p:column>-->
                
                <p:column headerText="Action" >
                    <h:commandButton class="blue-button" value="View" actionListener="#{viewAllListingsManagedBean.viewListingDetails}">
                        <f:attribute name="listingId" value="#{listing.listingId}" />
                    </h:commandButton>
                </p:column>
            </p:dataTable>
        </h:form>
    </ui:define>

</ui:composition>

