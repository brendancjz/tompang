<app-header></app-header>
<ion-content class="hide-scroll-bar">
  <div>
    <ion-title class="page-name grey-color">
      Settings
    </ion-title>
    <hr class="horizontal-rule" />
    <ion-title class="sub-page-name grey-color">
      <div style="display: flex; align-items: center; justify-content: space-between;">
        Manage Wallet
      </div>

    </ion-title>
  </div>
  <hr class="horizontal-rule" />
  <div>
    <div style="margin-left: 16px">
      <ion-card style="width: 345px">
        <ion-card-header> Wallet Details </ion-card-header>

        <ion-card-content>
          <div
            style="
              display: flex;
              align-items: center;
              justify-content: space-between;
            "
          >
            <ion-label class="grey-color">Wallet Amount</ion-label>
            <ion-text
              >S${{(currentUser.walletAmount).toFixed(2)}}</ion-text
            >
          </div>
        </ion-card-content>
      </ion-card>
    </div>
  </div>
  <hr class="horizontal-rule" />
  <ion-title class="sub-page-name grey-color">
    <div style="display: flex; align-items: center; justify-content: space-between;">
      Select Credit Card
    </div>
  </ion-title>
  <hr class="horizontal-rule" />
  <form (ngSubmit)="withdrawFunds()" *ngIf="!resultSuccess">
    <div class="form-input">
      <ion-item lines="none">
        <ion-icon style="font-size:35px;" name="card-outline" slot="start"></ion-icon>
        <ion-select class="grey-color" slot="end" [(ngModel)]="creditCard" name="buyerCreditCard" required>
          <ion-label class="grey-color" style="font-size:12px;">Select Credit Card</ion-label>
          <ion-select-option class="grey-color"
            *ngFor="let card of creditCards"
            [value]="card"
            >{{formatCreditCardInfo(card)}}</ion-select-option
          ></ion-select
        ></ion-item>
    </div>
    <div class="form-input input-button-div">
      <ion-button style="text-transform: initial;font-size: 16px;height: 50px;" color="tertiary" type="submit">Withdraw Funds</ion-button>
    </div>
  </form>
  <div *ngIf="resultSuccess" style="display: flex;flex-direction: column;justify-content: center;">
    <ion-label style="text-align: center;" class="grey-color">{{message}}</ion-label>
  </div>
  <div *ngIf="hasSelectedCard === false" style="display: flex;flex-direction: column;justify-content: center;">
    <ion-label style="text-align: center;color: red;">{{message}}</ion-label>
  </div>
</ion-content>
<app-footer></app-footer>
