<app-header></app-header>
<ion-content>
  <div>
    <ion-title class="page-name grey-color">
      Create Listing
    </ion-title>
    <hr class="horizontal-rule" />
    <div class="create-listing-block">
      <div id="createListingForm" class="createListingForm">
        <form>
          <!--Add images upload here-->
          <div class="form-input">
            <ion-item lines="none">
              <ion-text class="grey-color" style="width:90px;margin-right:16px;">Title</ion-text>
              <ion-input class="grey-color" placeholder="Title" [(ngModel)]="title" name="title" required maxlength="50"></ion-input>
            </ion-item>
          </div>
          <div class="form-input">
            <ion-item lines="none">
              <ion-text class="grey-color" style="width:90px;margin-right:16px;">Country</ion-text>
              <ion-select class="grey-color" slot="end" [(ngModel)]="country" name="country" required (ionChange)="selectCitiesFromCountry(country)">
                <ion-select-option class="grey-color"
                  *ngFor="let country of countries"
                  [value]="country"
                  >{{country}}</ion-select-option
                ></ion-select
              ></ion-item>
          </div>
          <div class="form-input">
            <ion-item lines="none">
              <ion-text class="grey-color" style="width:90px;margin-right:16px;">City</ion-text>
              <ion-select class="grey-color" slot="end" [(ngModel)]="city" name="city" required>
                <ion-select-option class="grey-color"
                  *ngFor="let city of cities"
                  [value]="city"
                  >{{city}}</ion-select-option
                ></ion-select
              ></ion-item>
          </div>
          <div class="form-input">
            <ion-item lines="none">
              <ion-text class="grey-color" style="width:90px;margin-right:16px;">Category</ion-text>
              <ion-select class="grey-color" slot="end" [(ngModel)]="category" name="category" required>
                <ion-select-option class="grey-color"
                  *ngFor="let category of categories"
                  [value]="category"
                  >{{category}}</ion-select-option
                ></ion-select
              ></ion-item>
          </div>
          <div class="form-input">
            <ion-item lines="none">
              <ion-text class="grey-color" style="width:90px;margin-right:16px;">Price (SGD)</ion-text>
              <ion-input class="grey-color" type="number" placeholder="Price" [(ngModel)]="price" name="price" required></ion-input>
            </ion-item>
          </div>
          <div class="form-input">
            <ion-item lines="none">
              <ion-text class="grey-color" style="width:90px;margin-right:16px;">Quantity</ion-text>
              <ion-input class="grey-color" type="number" placeholder="Quantity" [(ngModel)]="quantity" name="quantity" required></ion-input>
            </ion-item>
          </div>
          <div class="form-input">
            <ion-item lines="none">
              <div style="display: flex;flex-direction: column;width: 100%;height: 150px;">
                <ion-text class="grey-color" style="width:90px;margin-right:16px;">Description</ion-text>
                <ion-textarea class="grey-color" placeholder="Add a description" [(ngModel)]="description" name="description" required maxlength="500"></ion-textarea>
              </div>
            </ion-item>
          </div>
          <div class="form-input input-button-div">
            <ion-button style="text-transform: initial;font-size: 16px;height: 50px;" color="tertiary"  type="reset" >Clear</ion-button>
            <ion-button style="text-transform: initial;font-size: 16px;height: 50px;" color="tertiary" type="submit" (click)="createListing()">Create</ion-button>
          </div>
        </form>
        <div *ngIf="listingCreationSuccessful" style="margin-bottom: 40px;display: flex;flex-direction: column;justify-content: center;">
          <ion-label class="grey-color" style="text-align: center;">
            Successfully created a listing.
          </ion-label>
          <ion-label class="grey-color" style="text-align: center;">
            View it under Profile.
          </ion-label>
        </div>
        <div
          *ngIf="creationError === true"
          style="text-align: center; color: red;margin-bottom: 40px;"
        >
          {{creationErrorMessage}}
        </div>
      </div>
    </div>
  </div>
</ion-content>
<app-footer></app-footer>
